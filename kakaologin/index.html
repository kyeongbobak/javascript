<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title></title>
  <script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>
  <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.5.0/kakao.min.js"
    integrity="sha384-kYPsUbBPlktXsY6/oNHSUDZoTX6+YI51f63jCPEIPFP09ttByAdxd2mEjKuhdqn4"
    crossorigin="anonymous"></script>
</head>

<body>
  <div class="wrapper">
    <div class="container">
      <h1 class="login-title">kakao</h1>
      <form class="login-form">
        <input class="login-id" type="text" placeholder="카카오계정 (이메일 또는 전화번호)">
        <input class="login-password" type="password" placeholder="비밀번호">
        <label for="login-hold">로그인 상태 유지</label>
        <button class="login-button primary" onclick="handleLoginClick()">로그인</button>
        <span class="login-word">또는 </span>
        <button class="login-button">QR코드 로그인</button>
        <div class="login-form-link">
          <a class="link " href="">회원가입</a>
          <div class="link">
            <a class="link" href="">카카오계정</a>
            <span class="link-inner">|</span>
            <a class="link" href="">비밀번호 찾기</a>
          </div>
        </div>
      </form>
    </div>
  </div>

  <script>
    Kakao.init('');
    Kakao.isInitialized();
    console.log(Kakao.isInitialized())

    function handleLoginClick(event) {

      Kakao.Auth.login({
        success: function (authObj) {
          Kakao.API.request({
            url: '/v2/user/me',
            success: function (res) {
              console.log(res)
              const id = res.id;
              scope: "account_email"
              alert('로그인에 성공했습니다!')
              location.href = "http://127.0.0.1:8080/home"
            }
          })
          console.log(authObj)
          let token = authObj.access_token;
        },
        fail: function (err) {
          alert(JSON.stringify(err))
          console.log(err)
        }
      })
    }
  </script>
</body>

</html>